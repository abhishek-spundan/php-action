name: CI
on: 
  push:
    branches: [main]
  pull_request:
    branches: [main]
  
  workflow_dispatch:     

jobs:
  php:
    name: PHP
    runs-on: ubuntu-latest

    steps:
      - name: checkout
        uses: actions/checkout@v3

      - name: Run a one-line script
        uses: shivammathur/setup-php@v2
        with:
          php-version: "8.1"
      
      - run: |
          pwd
          ls
          php HelloWorld.php

  js:
    name: Javascript
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - uses: actions/setup-node@v2
      - run: |
          node HelloWorld.js

  # cs:
  #   name: C#
  #   runs-on: ubuntu-latest
  #   steps:
  #     - uses: actions/checkout@v2
  #     - uses: xt0rted/setup-dotnet@v1.0.0
  #       with:
  #         dotnet-version: "6.0.201"
  #     - run: |
  #         dotnet run HelloWorld.cs  

  cs:
    name: C#
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - uses: actions/setup-dotnet@v1
        with:
          dotnet-version: "5.0.x"
      - run: |
          dotnet run

  # CFLint:
  #     name: ColdFusion
  #     runs-on: ubuntu-latest

  #     steps:
  #       - name: checkout
  #         uses: actions/checkout@v3

  #       - name: Run a one-line script
  #         id: lint
  #         uses: foundeo/fixinator-github-action@master
  #         with:
  #           fixinator_api_key: ${{ secrets.FIXINATOR_API_KEY }}

  # publish:
  #     runs-on: ubuntu-latest
  #     container:
  #       image: ghcr.io/foundeo/cfml-ci-tools/cfml-ci-tools:latest
  #     steps:
  #       - uses: actions/checkout@v2

  #       - name: Set Version
  #         run: |
  #           # Strip git ref prefix from version
  #           VERSION=$(echo "${{ github.ref }}" | sed -e 's,.*/\(.*\),\1,')
  #           # Strip "v" prefix from tag name
  #           [[ "${{ github.ref }}" == "refs/tags/"* ]] && VERSION=$(echo $VERSION | sed -e 's/^v//')
  #           # Use Docker `latest` tag convention
  #           [ "$VERSION" == "master" ] && VERSION=latest
            
  #           echo $VERSION
            
  #           box bump version=$VERSION
            
  #           cat box.json
            
  #           echo $VERSION > ./version.txt
  #         env:
  #           BOX_CONFIG_ENDPOINTS_FORGEBOX_APITOKEN: ${{ secrets.BOX_CONFIG_ENDPOINTS_FORGEBOX_APITOKEN }}